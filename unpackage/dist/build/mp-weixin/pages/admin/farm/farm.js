(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/admin/farm/farm"],{"061c":function(n,e,t){"use strict";t.d(e,"b",(function(){return u})),t.d(e,"c",(function(){return i})),t.d(e,"a",(function(){return r}));var r={uniSection:function(){return t.e("uni_modules/uni-section/components/uni-section/uni-section").then(t.bind(null,"6ef2"))},uniTable:function(){return t.e("uni_modules/uni-table/components/uni-table/uni-table").then(t.bind(null,"0339"))},uniTr:function(){return t.e("uni_modules/uni-table/components/uni-tr/uni-tr").then(t.bind(null,"be64"))},uniTh:function(){return t.e("uni_modules/uni-table/components/uni-th/uni-th").then(t.bind(null,"f499"))},uniTd:function(){return t.e("uni_modules/uni-table/components/uni-td/uni-td").then(t.bind(null,"b780"))},uniPopup:function(){return t.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(t.bind(null,"0938"))},uniForms:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-forms/components/uni-forms/uni-forms")]).then(t.bind(null,"e658"))},uniFormsItem:function(){return t.e("uni_modules/uni-forms/components/uni-forms-item/uni-forms-item").then(t.bind(null,"a7f2"))},uniEasyinput:function(){return t.e("uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput").then(t.bind(null,"11d3"))},uniDataSelect:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-data-select/components/uni-data-select/uni-data-select")]).then(t.bind(null,"7b1a"))}},u=function(){var n=this.$createElement,e=(this._self._c,Object.keys(this.farms).length);this.$mp.data=Object.assign({},{$root:{g0:e}})},i=[]},"1b86":function(n,e,t){"use strict";(function(n,e){var r=t("4ea4");t("a539");r(t("66fd"));var u=r(t("cc15"));n.__webpack_require_UNI_MP_PLUGIN__=t,e(u.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},4315:function(n,e,t){"use strict";var r=t("4b80"),u=t.n(r);u.a},"4b80":function(n,e,t){},"69dd":function(n,e,t){"use strict";(function(n){var r=t("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=r(t("2eee")),i=r(t("c973")),o=r(t("9523")),a=t("52b8");function c(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function s(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?c(Object(t),!0).forEach((function(e){(0,o.default)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var l={data:function(){return{isUpp:!1,uid:n.getStorageSync("uid"),rules:{name:{rules:[{required:!0,errorMessage:"农场名称必填"}]},location:{rules:[{required:!0,errorMessage:"农场地址必填"}]}},farms:[],farmFormData:{farmer:n.getStorageSync("uid"),name:"",location:"",status:0},range:[{value:0,text:"是"},{value:1,text:"否"}]}},methods:{open:function(){this.$refs.popup.open("center")},close:function(){this.farmFormData={farmer:n.getStorageSync("uid"),name:"",location:"",status:0},this.$refs.popup.close()},edite:function(n){this.farmFormData=s(s({},this.farmFormData),n),this.isUpp=!0,this.open()},del:function(e){var t=this;n.showModal({title:"提示",content:"确认删除吗？",success:function(){var n=(0,i.default)(u.default.mark((function n(r){return u.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!r.confirm){n.next=4;break}return n.next=3,(0,a.delFarmApi)(e);case 3:t.getFarmAll();case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})},getFarmAll:function(){var n=this;return(0,i.default)(u.default.mark((function e(){var t;return u.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,a.getFarmAllByIdApi)(n.uid);case 2:t=e.sent,n.farms=t;case 4:case"end":return e.stop()}}),e)})))()},addFarm:function(){var n=this;this.$refs.form.validate().then((0,i.default)(u.default.mark((function e(){return u.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.isUpp){e.next=6;break}return e.next=3,(0,a.uppFarmApi)(n.farmFormData);case 3:n.isUpp=!1,e.next=8;break;case 6:return e.next=8,(0,a.addFarmApi)(n.farmFormData);case 8:n.getFarmAll(),n.close();case 10:case"end":return e.stop()}}),e)})))).catch((function(n){console.log("表单错误信息：",n)}))}},onLoad:function(){this.getFarmAll()}};e.default=l}).call(this,t("543d")["default"])},"796d":function(n,e,t){"use strict";t.r(e);var r=t("69dd"),u=t.n(r);for(var i in r)["default"].indexOf(i)<0&&function(n){t.d(e,n,(function(){return r[n]}))}(i);e["default"]=u.a},cc15:function(n,e,t){"use strict";t.r(e);var r=t("061c"),u=t("796d");for(var i in u)["default"].indexOf(i)<0&&function(n){t.d(e,n,(function(){return u[n]}))}(i);t("4315");var o=t("f0c5"),a=Object(o["a"])(u["default"],r["b"],r["c"],!1,null,"5c1ec1f2",null,!1,r["a"],void 0);e["default"]=a.exports}},[["1b86","common/runtime","common/vendor"]]]);