(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/admin/farm"],{"3e06":function(n,e,t){"use strict";t.r(e);var u=t("caf7"),r=t.n(u);for(var i in u)["default"].indexOf(i)<0&&function(n){t.d(e,n,(function(){return u[n]}))}(i);e["default"]=r.a},4698:function(n,e,t){},6767:function(n,e,t){"use strict";t.d(e,"b",(function(){return r})),t.d(e,"c",(function(){return i})),t.d(e,"a",(function(){return u}));var u={uniSection:function(){return t.e("uni_modules/uni-section/components/uni-section/uni-section").then(t.bind(null,"3baa"))},uniTable:function(){return t.e("uni_modules/uni-table/components/uni-table/uni-table").then(t.bind(null,"fc38"))},uniTr:function(){return t.e("uni_modules/uni-table/components/uni-tr/uni-tr").then(t.bind(null,"94dc"))},uniTh:function(){return t.e("uni_modules/uni-table/components/uni-th/uni-th").then(t.bind(null,"70ed"))},uniTd:function(){return t.e("uni_modules/uni-table/components/uni-td/uni-td").then(t.bind(null,"cd3f"))},uniPopup:function(){return t.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(t.bind(null,"3e2d"))},uniForms:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-forms/components/uni-forms/uni-forms")]).then(t.bind(null,"7048"))},uniFormsItem:function(){return t.e("uni_modules/uni-forms/components/uni-forms-item/uni-forms-item").then(t.bind(null,"2158"))},uniEasyinput:function(){return t.e("uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput").then(t.bind(null,"abe7"))},uniDataSelect:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-data-select/components/uni-data-select/uni-data-select")]).then(t.bind(null,"3659"))}},r=function(){var n=this.$createElement;this._self._c},i=[]},8658:function(n,e,t){"use strict";var u=t("4698"),r=t.n(u);r.a},abb9:function(n,e,t){"use strict";t.r(e);var u=t("6767"),r=t("3e06");for(var i in r)["default"].indexOf(i)<0&&function(n){t.d(e,n,(function(){return r[n]}))}(i);t("8658");var a=t("828b"),o=Object(a["a"])(r["default"],u["b"],u["c"],!1,null,"5cf4a4ba",null,!1,u["a"],void 0);e["default"]=o.exports},c1d7:function(n,e,t){"use strict";(function(n,e){var u=t("47a9");t("c446");u(t("3240"));var r=u(t("abb9"));n.__webpack_require_UNI_MP_PLUGIN__=t,e(r.default)}).call(this,t("3223")["default"],t("df3c")["createPage"])},caf7:function(n,e,t){"use strict";(function(n){var u=t("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(t("7eb4")),i=u(t("ee10")),a=u(t("7ca3")),o=t("da6a");function c(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);e&&(u=u.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,u)}return t}function s(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?c(Object(t),!0).forEach((function(e){(0,a.default)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var l={data:function(){return{isUpp:!1,uid:null,rules:{name:{rules:[{required:!0,errorMessage:"农场名称必填"}]},location:{rules:[{required:!0,errorMessage:"农场地址必填"}]}},farms:[],farmFormData:{farmer:n.getStorageSync("uid"),name:"",location:"",status:0},range:[{value:0,text:"是"},{value:1,text:"否"}]}},methods:{open:function(){this.$refs.popup.open("center")},close:function(){this.farmFormData={farmer:n.getStorageSync("uid"),name:"",location:"",status:0},this.$refs.popup.close()},edite:function(n){this.farmFormData=s(s({},this.farmFormData),n),this.isUpp=!0,this.open()},del:function(e){var t=this;n.showModal({title:"提示",content:"确认删除吗？",success:function(){var n=(0,i.default)(r.default.mark((function n(u){return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!u.confirm){n.next=4;break}return n.next=3,(0,o.delFarmApi)(e);case 3:t.getFarmAll();case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})},getFarmAll:function(){var n=this;return(0,i.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.getFarmAllByIdApi)(n.uid);case 2:t=e.sent,n.farms=t;case 4:case"end":return e.stop()}}),e)})))()},addFarm:function(){var n=this;this.$refs.form.validate().then((0,i.default)(r.default.mark((function e(){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.isUpp){e.next=6;break}return e.next=3,(0,o.uppFarmApi)(n.farmFormData);case 3:n.isUpp=!1,e.next=8;break;case 6:return e.next=8,(0,o.addFarmApi)(n.farmFormData);case 8:n.getFarmAll(),n.close();case 10:case"end":return e.stop()}}),e)})))).catch((function(n){console.log("表单错误信息：",n)}))}},onShow:function(){this.uid=n.getStorageSync("uid"),this.getFarmAll()}};e.default=l}).call(this,t("df3c")["default"])}},[["c1d7","common/runtime","common/vendor"]]]);